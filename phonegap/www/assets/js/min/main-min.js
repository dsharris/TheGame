var TheGame=function(){var t=function(){var t=null,e="http://127.0.0.1:4263/attack";return targetCount=5,container=".game-div",startTime=0,finishTime=0,currentPosition=0,targets={},start=function(){requestToken(),createTargets(),bindActions()},end=function(){},bindActions=function(){$("body").on("click tap touch",".game-start-trigger",startItUp),$("body").on("click tap touch",".touch-target",targetHit)},startItUp=function(){startTime=Date.now(),currentPosition=1,$(".game-start-trigger").remove(),$(".touch-target").show()},targetHit=function(t){$target=$(this),$target.data("num")==currentPosition?($target.fadeOut(250),currentPosition=$target.data("num")+1,targets[$target.data("num")]=Date.now(),$target.data("num")==targetCount&&(finishTime=Date.now(),cleanupTimes())):($target.css({"background-color":"#e95434"}),setTimeout(function(){$target.css({"background-color":"#00938f"})},250))},cleanupTimes=function(){_.each(targets,function(t,n){targets[n]=parseInt(t,10)-parseInt(startTime,10)}),console.log(startTime,targets,finishTime)},createTargets=function(){var t=$(container),n=40,e='<button class="button game-start-trigger">Start Game</button>',a=40,o=t.height(),r=t.width(),i=o-n,s=r-a,c,u,g;for(console.log(i,s),$("body").append(e),c=0;targetCount>c;c++)u=Math.floor(Math.random()*i)+1,g=Math.floor(Math.random()*s)+1,console.log(c,u,g),$("body").append(["<button ",'data-num="',c+1,'" class="touch-target" ','style="',"display:none;","position:absolute;","line-height:",n,"px;height:",n,"px; width:",a,"px; top:",u>i?i:u,"px;left:",g>s?s:g,'px;" id="target-',c+1,'">',c+1,"</button>"].join(""))},requestToken=function(){$.get(e,function(){console.log(arguments)})},n=function(){start()},{init:n,start:start,end:end}}(),n=function(){console.log("initializing the game"),t.init()};return{init:n}}();